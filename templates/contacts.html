{% extends 'main.html' %}
{% block title %} Contact {% endblock %}
{% block site %}
{% load bootstrap %}




<div class="alert alert-primary" role="alert">
        <div style="overflow: hidden;">
        <div style="float: left;">
            <div class="inline-block-element">
           <a href="{% url 'start' %}" class="btn "><h5> <i class="fa-solid fa-house"></i> BLUE CRM | </h5></a>

            </div>

            <div class="inline-block-element">
                <form method="get" action="">
                <label for="filter">Filter your search:</label>
                <select name="filter" id="filter">
                <option value="all">All</option>
                <option value="state">By State</option>
                <option value="motorcycle">By Motorcycle</option>
                 </select>
                    <input type="submit" value="Filter" class="btn btn-outline-primary" >
                </form>
            </div>

        </div>
        <div style="overflow: hidden;">
    <div style="float: right;">
                    <a href="{% url 'add' %}" class="btn btn-outline-primary">Add contacts</a>


{% if user.is_authenticated %}
    <a href="{% url 'out' %}" class="btn btn-outline-primary"> Log out</a>
{% else %}
    <a href="{% url 'login' %}" class="btn btn-outline-primary"> Log in</a>
{% endif %}
        </div>
</div>
</div>
</div>


{% if messages %}
<div class="py-6 px-6 d-flex justify-content-center">
    <div>
        {% for message in messages %}
            <div class="text-bg-warning p-3">{{ message }}</div>
        {% endfor %}
    </div>
</div>
{% endif %}
<br>

{% if filter_option == 'state' %}

        <table class="table table-Light table-striped-columns">
        <tr>
      <th scope="col">Update</th>
      <th scope="col">industry</th>
      <th scope="col">Name</th>
      <th scope="col">NIP numer</th>
      <th scope="col">Phone number</th>
      <th scope="col">Email address</th>
      <th scope="col">Price</th>
      <th scope="col">Invoice</th>
      <th scope="col">Type</th>
      <th scope="col">Delete</th>

        </tr>
        <tbody>
        <tr>
        {% for contact in contacts %}
    <th><a href="{% url 'update' contact.id%}" class="btn btn-outline-primary">Update</a></th>
      <th>{{ contact.choose }}</th>
      <th>{{ contact.name }} |
            <a href="{% url 'contacts_detail' contact.id%}" >
                <i class="fa-solid fa-magnifying-glass fa-beat-fade fa-lg" style="color: #511f1f;"></i></a>
      </th>
      <th>{{ contact.NIP_numer }}</th>
      <th>{{ contact.phone_number }} </th>
      <th>{{ contact.email_address }} </th>
      <th>{{ contact.price }} PLN</th>
      <th>{{ contact.invoice }} </th>
      <th>{{ contact.type }} </th>
      <th><a href="{% url 'remove' contact.id%}" class="btn btn-outline-danger">Delete</a></th>

        </tr>
        {% endfor %}
         </tbody>
        </table>

{% elif filter_option == 'motorcycle' %}
        <table class="table table-Light table-striped-columns">
        <tr>
        <th scope="col">Update</th>
        <th scope="col">industry</th>
        <th scope="col">Name</th>
        <th scope="col">NIP numer</th>
        <th scope="col">Phone number</th>
        <th scope="col">Email address</th>
        <th scope="col">Price</th>
        <th scope="col">Invoice</th>
        <th scope="col">Type</th>
        <th scope="col">Delete</th>

        </tr>
        <tbody>
        <tr>
        {% for contact in contacts %}
        <th><a href="{% url 'update' contact.id%}" class="btn btn-outline-primary">Update</a></th>
        <th>{{ contact.choose }}</th>
        <th>{{ contact.name }} |
            <a href="{% url 'contacts_detail' contact.id%}" >
                <i class="fa-solid fa-magnifying-glass fa-beat-fade fa-lg" style="color: #511f1f;"></i></a>
      </th>
        <th>{{ contact.NIP_numer }}</th>
        <th>{{ contact.phone_number }} </th>
        <th>{{ contact.email_address }} </th>
        <th>{{ contact.price }} PLN</th>
        <th>{{ contact.invoice }} </th>
        <th>{{ contact.type }} </th>
        <th><a href="{% url 'remove' contact.id %}" class="btn btn-outline-danger">Delete</a></th>

        </tr>
        {% endfor %}
        </tbody>
    </table>

{% else %}
    <table class="table table-Light table-striped-columns">
    <tr>
      <th scope="col">Update</th>
      <th scope="col">Industry</th>
        <th scope="col"> Name </th>
      <th scope="col">NIP numer</th>
      <th scope="col">Phone number</th>
      <th scope="col">Email address</th>
      <th scope="col">Price</th>
      <th scope="col">Invoice</th>
      <th scope="col">Type</th>
      <th scope="col">Delete</th>

    </tr>
  <tbody>
    <tr>
  {% for contact in contacts %}
<th><a href="{% url 'update' contact.id%}" class="btn btn-outline-primary">Update</a></th>
      <th>{{ contact.choose }}</th>
      <th>{{ contact.name }} |
            <a href="{% url 'contacts_detail' contact.id %}" >
            <i class="fa-solid fa-magnifying-glass fa-beat-fade fa-lg" style="color: #511f1f;"></i></a>
      </th>
      <th>{{ contact.NIP_numer }}</th>
      <th>{{ contact.phone_number }} </th>
      <th>{{ contact.email_address }} </th>
      <th>{{ contact.price }} PLN</th>
      <th>{{ contact.invoice }} </th>
      <th>{{ contact.type }} </th>
      <th><a href="{% url 'remove' contact.id%}" class="btn btn-outline-danger">Delete</a></th>

    </tr>
    {% endfor %}
    </tbody>
    </table>

{% endif %}

{% endblock %}