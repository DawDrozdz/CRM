{% extends 'main.html' %}
{% block title %} meeting {% endblock %}
{% block site %}
{% load bootstrap %}

<div class="alert alert-primary" role="alert">
        <div style="overflow: hidden;">
        <div style="float: left;">
            <div class="inline-block-element">
           <a href="{% url 'start' %}" class="btn "><h5> <i class="fa-solid fa-house"></i> BLUE CRM | </h5></a>
            </div>

          <div class="inline-block-element">
                <form method="get" action="">
                <label for="filter">Filter your types of meeting:</label>
                <select name="filter" id="filter">
                <option value="all">All meetings</option>
                <option value="VALUATION">By valuation of renovation</option>
                <option value="INSPECTION">By constriction inspection</option>
                <option value="PICK UP">By pick up motorcycle</option>
                <option value="SHOW">By showing the apartments </option>


                 </select>
                    <input type="submit" value="Filter" class="btn btn-outline-primary" >
                </form>
            </div>
            </div>
<div style="overflow: hidden;">
    <div style="float: right;">
                    <a href="{% url 'add_meeting' %}" class="btn btn-outline-primary">Add meeting</a>


{% if user.is_authenticated %}
    <a href="{% url 'out' %}" class="btn btn-outline-primary"> Log out</a>
{% else %}
    <a href="{% url 'login' %}" class="btn btn-outline-primary"> Log in</a>
{% endif %}
        </div>
</div>
</div>
</div>

{% if messages %}
<div class="py-6 px-6 d-flex justify-content-center">
    <div>
        {% for message in messages %}
            <div class="text-bg-warning p-3">{{ message }}</div>
        {% endfor %}
    </div>
</div>
{% endif %}
<br>

{% if filter_option == 'SHOW' %}

        <table class="table table-Light table-striped-columns">
        <tr>
       <th scope="col">Update</th>
       <th scope="col">Meeting type</th>
      <th scope="col">Customer</th>
      <th scope="col">Contact</th>
      <th scope="col">Data of meeting</th>
      <th scope="col">Note</th>
      <th scope="col">Delete</th>

        </tr>
        <tbody>
        <tr>
        {% for meetings in meeting %}
    <th><a href="{% url 'update_meeting' meetings.id%}" class="btn btn-outline-primary">Update</a></th>
      <th>{{ meetings.meeting_type }} |
              <a href="{% url 'meeting_detail' meetings.id%}" >
                  <i class="fa-solid fa-magnifying-glass fa-beat-fade fa-lg" style="color: #511f1f;"></i>
              </a>
      </th>
      <th>{{ meetings.person_customer }}</th>
      <th>{{ meetings.person_contact }}</th>
      <th>{{ meetings.meeting }} </th>
      <th>{{ meetings.note }} </th>
      <th><a href="{% url 'remove_customer' meetings.id%}" class="btn btn-outline-danger">Delete</a></th>

        </tr>
        {% endfor %}
         </tbody>
        </table>

{% elif filter_option == 'VALUATION' %}
        <table class="table table-Light table-striped-columns">
        <tr>
       <th scope="col">Update</th>
       <th scope="col">Meeting type</th>
      <th scope="col">Customer</th>
      <th scope="col">Contact</th>
      <th scope="col">Data of meeting</th>
      <th scope="col">Note</th>
      <th scope="col">Delete</th>

        </tr>
        <tbody>
        <tr>
        {% for meetings in meeting %}
    <th><a href="{% url 'update_meeting' meetings.id%}" class="btn btn-outline-primary">Update</a></th>
      <th>{{ meetings.meeting_type }} |
              <a href="{% url 'meeting_detail' meetings.id%}" >
                  <i class="fa-solid fa-magnifying-glass fa-beat-fade fa-lg" style="color: #511f1f;"></i>
              </a>
      </th>
      <th>{{ meetings.person_customer }}</th>
      <th>{{ meetings.person_contact }}</th>
      <th>{{ meetings.meeting }} </th>
      <th>{{ meetings.note }} </th>
      <th><a href="{% url 'remove_customer' meetings.id%}" class="btn btn-outline-danger">Delete</a></th>

        </tr>
        {% endfor %}
         </tbody>
        </table>

{% elif filter_option == 'INSPECTION' %}
    <table class="table table-Light table-striped-columns">
        <tr>
       <th scope="col">Update</th>
       <th scope="col">Meeting type</th>
      <th scope="col">Customer</th>
      <th scope="col">Contact</th>
      <th scope="col">Data of meeting</th>
      <th scope="col">Note</th>
      <th scope="col">Delete</th>

        </tr>
        <tbody>
        <tr>
        {% for meetings in meeting %}
    <th><a href="{% url 'update_meeting' meetings.id%}" class="btn btn-outline-primary">Update</a></th>
      <th>{{ meetings.meeting_type }} |
              <a href="{% url 'meeting_detail' meetings.id%}" >
                  <i class="fa-solid fa-magnifying-glass fa-beat-fade fa-lg" style="color: #511f1f;"></i>
              </a>
      </th>
      <th>{{ meetings.person_customer }}</th>
      <th>{{ meetings.person_contact }}</th>
      <th>{{ meetings.meeting }} </th>
      <th>{{ meetings.note }} </th>
      <th><a href="{% url 'remove_meetings' meetings.id%}" class="btn btn-outline-danger">Delete</a></th>

        </tr>
        {% endfor %}
         </tbody>
        </table>

{% elif filter_option == 'PICK UP' %}
<table class="table table-Light table-striped-columns">
        <tr>
       <th scope="col">Update</th>
       <th scope="col">Meeting type</th>
      <th scope="col">Customer</th>
      <th scope="col">Contact</th>
      <th scope="col">Data of meeting</th>
      <th scope="col">Note</th>
      <th scope="col">Delete</th>

        </tr>
        <tbody>
        <tr>
        {% for meetings in meeting %}
    <th><a href="{% url 'update_meeting' meetings.id%}" class="btn btn-outline-primary">Update</a></th>
      <th>{{ meetings.meeting_type }} |
              <a href="{% url 'meeting_detail' meetings.id%}" >
                  <i class="fa-solid fa-magnifying-glass fa-beat-fade fa-lg" style="color: #511f1f;"></i>
              </a>
      </th>
      <th>{{ meetings.person_customer }}</th>
      <th>{{ meetings.person_contact }}</th>
      <th>{{ meetings.meeting }} </th>
      <th>{{ meetings.note }} </th>
      <th><a href="{% url 'remove_meetings' meetings.id%}" class="btn btn-outline-danger">Delete</a></th>

        </tr>
        {% endfor %}
         </tbody>
        </table>



{% else %}

<table class="table table-Light table-striped-columns">
        <tr>
       <th scope="col">Update</th>
       <th scope="col">Meeting type</th>
      <th scope="col">Customer</th>
      <th scope="col">Contact</th>
      <th scope="col">Data of meeting</th>
      <th scope="col">Note</th>
      <th scope="col">Delete</th>

        </tr>
        <tbody>
        <tr>
        {% for meetings in meeting %}
    <th><a href="{% url 'update_meeting' meetings.id%}" class="btn btn-outline-primary">Update</a></th>
      <th>{{ meetings.meeting_type }} |
              <a href="{% url 'meeting_detail' meetings.id%}" >
                  <i class="fa-solid fa-magnifying-glass fa-beat-fade fa-lg" style="color: #511f1f;"></i>
              </a>
      </th>
      <th>{{ meetings.person_customer }}</th>
      <th>{{ meetings.person_contact }}</th>
      <th>{{ meetings.meeting }} </th>
      <th>{{ meetings.note }} </th>
      <th><a href="{% url 'remove_meetings' meetings.id%}" class="btn btn-outline-danger">Delete</a></th>

        </tr>
        {% endfor %}
         </tbody>
        </table>

{% endif %}

{% endblock %}